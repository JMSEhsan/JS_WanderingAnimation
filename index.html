<!--  
  Wandering cubes 
  I got the idea from the following exercise. Then I developed and expanded it.
  https://www.w3schools.com/js/tryit.asp?filename=tryjs_dom_animate_3
-->

<!DOCTYPE html>
<html>
<style>

#myContainer0HD {            /*  1st animation */
  top: 20px;
  left: 84px;
  width: 400px;
  height: 90px;
  position: absolute;
  background: rgb(208, 252, 248);
}

#myContainer0 {
  top:140px;
  left: 84px;
  width: 400px;
  height: 400px;
  position: absolute;
  background: rgb(166, 241, 200);
}

#myAnimation0 {
  width: 30px;
  height: 30px;
  position: absolute;
  background-color: rgb(166, 241, 200); 

}

#myContainerHD {               /* 2nd animation */
  top: 20px;
  left: 568px;
  width: 400px;
  height: 90px;
  position: absolute;
  background: rgb(208, 252, 248);
}

#myContainer {
  left: 568px;
  top:140px;
  width: 400px;
  height: 400px;
  position: absolute;
  background: rgb(252, 245, 157);

}

#myAnimation {                 /* 3rd animation */
  width: 30px;
  height: 30px;
  position: absolute;
  background-color: rgb(252, 245, 157);
}

#myContainer2HD {
  top: 20px;
  left: 1052px;
  width: 400px;
  height: 90px;
  position: absolute;
  background: rgb(208, 252, 248);
}

#myContainer2 {
  left: 1052px;
  top:140px;
  width: 400px;
  height: 400px;
  position: absolute;
  background: rgb(243, 216, 241);

}

#myAnimation2 {
  width: 30px;
  height: 30px;
  position: absolute;
  background-color: rgb(243, 216, 241);
}

</style>

<body onload = "myMove()">


<div id ="myContainer0HD"><p style = "padding-left: 0px;"> &nbsp Position x: <span id="posx0"></span> px </p>
<p style = "padding-top: 0px;"> &nbsp Position y: <span id="posy0"></span> px</p></div>

<div id ="myContainer0"><div id ="myAnimation0"></div></div>


<div id ="myContainerHD"><p style = "padding-left: 0px; padding-top: 0px;"> &nbsp Position x: <span id="posx"></span> px</p>
<p style = "padding-left: 0px; padding-top: 0px;"> &nbsp Position y: <span id="posy"></span> px</p></div>

<div id ="myContainer"><div id ="myAnimation"></div></div>


<div id ="myContainer2HD"><p style = "padding-left: 0px; padding-top: 0px;"> &nbsp Position x: <span id="posx2"></span> px</p>
<p style = "padding-left: 0px; padding-top: 0px;"> &nbsp Position y: <span id="posy2"></span> px</p></div>

<div id ="myContainer2"><div id ="myAnimation2"></div></div>

<script>

//var id = null;
function myMove() {
  
  document.getElementById("myAnimation0").style.backgroundColor = "rgb(240, 130, 163)";
  var elem0 = document.getElementById("myAnimation0");
  var posx0 = initialRand();
  var posy0 = initialRand();
  elem0.style.left = Math.abs(posx0) + 'px';
  elem0.style.top = Math.abs(posy0) + 'px';
    
  document.getElementById("myAnimation").style.backgroundColor = "rgb(75, 224, 82)";
  var elem = document.getElementById("myAnimation");
  var posx = initialRand();
  var posy = initialRand();
  elem.style.left = Math.abs(posx) + 'px';
  elem.style.top = Math.abs(posy) + 'px';

  document.getElementById("myAnimation2").style.backgroundColor = "rgb(36, 203, 209)";
  var elem2 = document.getElementById("myAnimation2");
  var posx2 = initialRand();
  var posy2 = initialRand();
  elem2.style.left = Math.abs(posx2) + 'px';
  elem2.style.top = Math.abs(posy2) + 'px';

  
  var r1 = randomMkr();
  var r2 = randomMkr();

  while (r1 == 0 && r2 == 0){
    r1 = randomMkr();
    r2 = randomMkr();
  }
  
  var r10 = randomMkr();
  var r20 = randomMkr();

  while (r10 == 0 && r20 == 0){
    r10 = randomMkr();
    r20 = randomMkr();
  }

  var r12 = randomMkr();
  var r22 = randomMkr();
  
  while (r12 == 0 && r22 == 0){
    r12 = randomMkr();
    r22 = randomMkr();
  }
  
  function initialRand(){
    var rs;
    var rsd = Math.floor(randomMkr(1));

    if(rsd >= 5 && rsd < 10){
      rs = -1;
    }
    else{
      rs = 1;
    }

    var rnd = randomMkr(1);
    var ir = rs * rnd * 370/10;

    while (Math.abs(ir) < rnd && rs < 0){
      ir = rs * rnd * 370/10;
    }
  
    return ir;
  }

  function randomMkr(x){
    var r = (Math.random() * 10); //Math.floor()
    
    switch (x){
    case 1:
      return r;
      break;
    default:
      while ( r > 0 && r < 0.05){              // limit infinitesimal random values
      r = (Math.random() * 10); 
      }
    return r;
    }
  }

  
  

  //clearInterval(id);
  var id = setInterval(frame, 30);

  function frame() {

    //1st animation

    if (posx0 > (370 - r10) || posx0 == 370){

      while(posx0 < 370 && (370 - posx0) >= 1){
      posx0++;
      posy0 = posy0 + r20 / r10;
      elem0.style.left = Math.abs(posx0) + 'px';
      elem0.style.top = Math.abs(posy0) + 'px';
      }

      r10 = randomMkr();
      while(r10 == 0){
        r10 = randomMkr();
      }
    
      r20 = randomMkr();

      posx0 = -370;
      }

    else if (posy0 > (370 - r20) || posy0 == 370){

      while(posy0 < 370 && (370 - posy0) >= 1){
        posy0++;
        posx0 = posx0 + r10 / r20;
        elem0.style.left = Math.abs(posx0) + 'px';
        elem0.style.top = Math.abs(posy0) + 'px';
      }

      r20 = randomMkr();
      while(r20 == 0){
        r20 = randomMkr();
      }

      r10 = randomMkr();      

      posy0 = -370;
      }

    else if (Math.abs(posx0) < r10 && posx0 < 0){

      while(Math.abs(posx0) < r10 && posx0 < 0){
        posx0++;
        posy0 = posy0 + r20 / r10;
        elem0.style.left = Math.abs(posx0) + 'px';
        elem0.style.top = Math.abs(posy0) + 'px';
      }

      posx0 = 0;

      r10 = randomMkr();
      while(r10 == 0){
        r10 = randomMkr();
      }
      
      r20 = randomMkr();
      }

    else if (Math.abs(posy0) <  r20 && posy0 < 0){

      while(Math.abs(posy0) < r20 && posy0 < 0){
      posy0++;
      posx0 = posx0 + r10 / r20;
      elem0.style.left = Math.abs(posx0) + 'px';
      elem0.style.top = Math.abs(posy0) + 'px';
      }

      posy0 = 0;

      r20 = randomMkr();
      while(r20 == 0){
        r20 = randomMkr();
      }
      r10 = randomMkr();
      
      }

    else {
      posx0 = posx0 + r10;
      posy0 = posy0 + r20;
      elem0.style.left = Math.abs(posx0) + 'px';
      elem0.style.top = Math.abs(posy0) + 'px';
      }

      document.getElementById("posx0").innerHTML = Math.round(Math.abs(posx0));
      document.getElementById("posy0").innerHTML = Math.round(Math.abs(posy0));


    // 2nd animation

    if (posx > (370 - r1) || posx == 370){

      while(posx < 370 && (370 - posx) >= 1){
      posx++;
      posy = posy + r2 / r1;
      elem.style.left = Math.abs(posx) + 'px';
      elem.style.top = Math.abs(posy) + 'px';
      }

      r1 = randomMkr();
      while(r1 == 0){
        r1 = randomMkr();
      }
            
      r2 = randomMkr();

      posx = -370;
      }      

    else if (posy > (370 - r2) || posy == 370){

      while(posy < 370 && (370 - posy) >= 1){
        posy++;
        posx = posx + r1 / r2;
        elem.style.left = Math.abs(posx) + 'px';
        elem.style.top = Math.abs(posy) + 'px';
      }
      
      r2 = randomMkr();
      while (r2 == 0){
        r2 = randomMkr();
      }
 
      r1 = randomMkr();
 
      posy = -370;
      }

    else if (Math.abs(posx) < r1 && posx < 0){

      while(Math.abs(posx) < r1 && posx < 0){
        posx++;
        posy = posy + r2 / r1;
        elem.style.left = Math.abs(posx) + 'px';
        elem.style.top = Math.abs(posy) + 'px';
      }

      posx = 0;

      r1 = randomMkr();
      while(r1 == 0){
        r1 = randomMkr();
      }
      
      r2 = randomMkr();
      }

    else if (Math.abs(posy) < r2 && posy < 0){

      while(Math.abs(posy) < r2 && posy < 0){
      posy++;
      posx = posx + r1 / r2;
      elem.style.left = Math.abs(posx) + 'px';
      elem.style.top = Math.abs(posy) + 'px';
      }

      posy = 0;
      
      r2 = randomMkr();
      while(r2 == 0){
        r2 = randomMkr();
      }

      r1 = randomMkr();      
      }

    else {

      posx = posx + r1;
      posy = posy + r2;
      elem.style.left = Math.abs(posx) + 'px';
      elem.style.top = Math.abs(posy) + 'px';
      }

      document.getElementById("posx").innerHTML = Math.round(Math.abs(posx));
      document.getElementById("posy").innerHTML = Math.round(Math.abs(posy));

    // 3rd animation 

    if (posx2 > (370 - r12) || posx2 == 370){

      while(posx2 < 370 && (370 - posx2) >= 1){
      posx2++;
      posy2 = posy2 + r22 / r12;
      elem2.style.left = Math.abs(posx2) + 'px';
      elem2.style.top = Math.abs(posy2) + 'px';
      }

      r12 = randomMkr();
      while(r12 == 0){
        r12 = randomMkr();
      }
      
      r22 = randomMkr();

      posx2 = -370;
      }

    else if (posy2 > (370 - r22) || posy2 == 370){

      while(posy2 < 370 && (370 - posy2) >= 1){
        posy2++;
        posx2 = posx2 + r12 / r22;
        elem2.style.left = Math.abs(posx2) + 'px';
        elem2.style.top = Math.abs(posy2) + 'px';
      }
      
      r22 = randomMkr();
      while(r22 == 0){
        r22 = randomMkr();
      }

      r12 = randomMkr();

      posy2 = -370;
      }

    else if (Math.abs(posx2) < r12 && posx2 < 0){

      while(Math.abs(posx2) < r12 && posx2 < 0){
        posx2++;
        posy2 = posy2 + r22 / r12;
        elem2.style.left = Math.abs(posx2) + 'px';
        elem2.style.top = Math.abs(posy2) + 'px';
      }

      posx2 = 0;

      r12 = randomMkr();
      while(r12 == 0){
        r12 = randomMkr();
      }
      
      r22 = randomMkr();
      }

    else if (Math.abs(posy2) < r22 && posy2 < 0){

      while(Math.abs(posy2) < r22 && posy2 < 0){
      posy2++;
      posx2 = posx2 + r12 / r22;
      elem2.style.left = Math.abs(posx2) + 'px';
      elem2.style.top = Math.abs(posy2) + 'px';
      }

      posy2 = 0;

      r22 = randomMkr();
      while(r22 == 0){
        r22 = randomMkr();
      }

      r12 = randomMkr();      
      }

    else {
      posx2 = posx2 + r12;
      posy2 = posy2 + r22;
      elem2.style.left = Math.abs(posx2) + 'px';
      elem2.style.top = Math.abs(posy2) + 'px';
      }

      document.getElementById("posx2").innerHTML = Math.round(Math.abs(posx2));
      document.getElementById("posy2").innerHTML = Math.round(Math.abs(posy2));
  }

}

</script>
</body>
</html>
